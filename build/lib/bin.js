// Generated by CoffeeScript 1.3.3
(function() {
  var dork, nomnom, path;

  path = require('path');

  nomnom = require('nomnom');

  dork = require('./index');

  nomnom.script('dork');

  nomnom.help('Start dork tests in the given file or directory with ' + 'optional overriding options.');

  nomnom.options({
    files: {
      "default": ['./test'],
      abbr: 'f',
      metavar: 'FILE',
      list: true,
      help: 'The file or directory to run tests in.'
    },
    patterns: {
      "default": [],
      position: 0,
      list: true,
      help: 'A series of patterns to filter tests by. For additional help, ' + 'see README.md#patterns'
    }
  });

  exports.exec = function(input) {
    var file, opts, pattern, _i, _j, _len, _len1, _ref, _ref1;
    opts = nomnom.parse(input);
    _ref = opts.files;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      file = _ref[_i];
      file = path.join(process.cwd(), file);
      require(file);
    }
    _ref1 = opts.patterns;
    for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
      pattern = _ref1[_j];
      dork.pattern(pattern);
    }
    return dork.run();
  };

}).call(this);
